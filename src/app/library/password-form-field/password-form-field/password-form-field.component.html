<mat-form-field fxFlex="100%" [appearance]="'outline'">
  <mat-label>{{ ipLabel }}</mat-label>

  <input
    matInput
    [type]="passwordHidden ? 'password' : 'text'"
    [required]="ipRequired"
    [formControl]="passwordFormField" />

  <button
    mat-icon-button
    matSuffix
    (click)="passwordHidden = !passwordHidden"
    [attr.aria-label]="'Hide password.'"
    [attr.aria-pressed]="passwordHidden">
    <mat-icon>{{ passwordHidden ? 'visibility_off' : 'visibility' }}</mat-icon>
  </button>

  <mat-error *ngIf="passwordFormField?.invalid">
    {{
      passwordFormField.hasError('required')
        ? 'You must enter a value!'
        : ''
    }}
  </mat-error>
</mat-form-field>
